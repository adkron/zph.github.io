
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>GoogleAnalytics and TikiWiki - Civet</title>
	<meta name="author" content="Zander">

	
	<meta name="description" content="GoogleAnalytics and TikiWiki Sat down this morning to integrate Google Analytics into a couple TikiWiki CMS based sites.  Went down easily for the &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Civet" type="application/atom+xml">
	
	<link rel="canonical" href="http://zph.github.io/blog/2011/09/08/googleanalytics-and-tikiwiki/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("zander@civet.ws") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
</div>
<hgroup>
  <h1><a href="/">Civet</a></h1>
  
    <h2>The Spice of Life</h2>
  
</hgroup>

<p class="subtitle">The Spice of Life</p>
<nav id="main-nav">
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/_ZPH" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/ZPH" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">GoogleAnalytics and TikiWiki</h1>
	<div class="entry-content" itemprop="articleBody">Sat down this morning to integrate Google Analytics into a couple TikiWiki CMS based sites.  Went down easily for the WPress based ones&#8230; Tikis took a little (very little) research.

Here&#8217;s the trick, as found on TikiWiki&#8217;s documentation. (The option of including it in the Javascript field or in standard location worked well in TikiWiki 7.0.)

Their first option of including it within literal tags and using the GoogleAnalytics Plugin didn&#8217;t work on my older TikiWiki (~6.1).  Used the second answer and it worked perfectly.  Place the following code in the Look &amp; Feel tab under &#8220;Custom End of Code&#8221;:

____STARTCODE_____

<span class="Apple-style-span" style="color: #666666; font-family: monospace; line-height: normal;"><span class="js-punctuation" style="color: #666666;">{</span><span class="js-keyword" style="color: #770088;">if </span><span class="js-variable" style="color: black;">$tiki_p_admin </span><span class="js-variable" style="color: black;">ne </span><span class="js-string" style="color: #aa2222;">&#8216;y&#8217;</span><span class="js-punctuation" style="color: #666666;">}</span><span class="js-punctuation" style="color: #666666;">{</span><span class="js-variable" style="color: black;">literal</span><span class="js-punctuation" style="color: #666666;">}</span><span class="js-operator" style="color: #666666;">&lt;</span><span class="js-variable" style="color: black;">script</span><span class="js-variable" style="color: black;">type</span><span class="js-operator" style="color: #666666;">=</span><span class="js-string" style="color: #aa2222;">&#8220;text/javascript&#8221;</span><span class="js-operator" style="color: #666666;">&gt;</span></span>

<span class="Apple-style-span" style="color: #666666; font-family: monospace; line-height: normal;">
<span class="whitespace">  </span><span class="js-keyword" style="color: #770088;">var </span><span class="js-variable" style="color: black;">_gaq </span><span class="js-operator" style="color: #666666;">= </span><span class="js-variable" style="color: black;">_gaq </span><span class="js-operator" style="color: #666666;">|| </span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">  </span><span class="js-variable" style="color: black;">_gaq</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">push</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-string" style="color: #aa2222;">&#8217;_setAccount&#8217;</span><span class="js-punctuation" style="color: #666666;">, </span><span class="js-string" style="color: #aa2222;">&#8216;UA-XXXXXXXX-1&#8217;</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">  </span><span class="js-variable" style="color: black;">_gaq</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">push</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-string" style="color: #aa2222;">&#8217;_trackPageview&#8217;</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span></span>

<span class="whitespace">  </span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-keyword" style="color: #770088;">function</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">) </span><span class="js-punctuation" style="color: #666666;">{</span>
<span class="whitespace">    </span><span class="js-keyword" style="color: #770088;">var </span><span class="js-variabledef" style="color: #0000ff;">ga </span><span class="js-operator" style="color: #666666;">= </span><span class="js-variable" style="color: black;">document</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">createElement</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-string" style="color: #aa2222;">&#8216;script&#8217;</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">; </span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">type </span><span class="js-operator" style="color: #666666;">=</span><span class="js-string" style="color: #aa2222;">&#8216;text/javascript&#8217;</span><span class="js-punctuation" style="color: #666666;">; </span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">async </span><span class="js-operator" style="color: #666666;">= </span><span class="js-atom" style="color: #228811;">true</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">    </span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">src </span><span class="js-operator" style="color: #666666;">= </span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-string" style="color: #aa2222;">&#8216;https:&#8217; </span><span class="js-operator" style="color: #666666;">== </span><span class="js-variable" style="color: black;">document</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">location</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">protocol </span><span class="js-operator" style="color: #666666;">?</span><span class="js-string" style="color: #aa2222;">&#8216;https://ssl&#8217; </span><span class="js-punctuation" style="color: #666666;">: </span><span class="js-string" style="color: #aa2222;">&#8216;http://www&#8217;</span><span class="js-punctuation" style="color: #666666;">) </span><span class="js-operator" style="color: #666666;">+ </span><span class="js-string" style="color: #aa2222;">&#8216;.google-analytics.com/ga.js&#8217;</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">    </span><span class="js-keyword" style="color: #770088;">var </span><span class="js-variabledef" style="color: #0000ff;">s </span><span class="js-operator" style="color: #666666;">= </span><span class="js-variable" style="color: black;">document</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">getElementsByTagName</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-string" style="color: #aa2222;">&#8216;script&#8217;</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-atom" style="color: #228811;">0</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">;</span><span class="js-localvariable" style="color: #004499;">s</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">parentNode</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">insertBefore</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">, </span><span class="js-localvariable" style="color: #004499;">s</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">  </span><span class="js-punctuation" style="color: #666666;">}</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span>

<span class="js-operator" style="color: #666666;">&lt;</span><span class="js-string" style="color: #aa2222;">/script&gt;{/</span><span class="js-variable" style="color: black;">literal</span><span class="js-punctuation" style="color: #666666;">}</span>
<span class="js-punctuation" style="color: #666666;">{</span><span class="js-keyword" style="color: #770088;">else</span><span class="js-punctuation" style="color: #666666;">}</span>
<span class="js-punctuation" style="color: #666666;">{</span><span class="js-variable" style="color: black;">literal</span><span class="js-punctuation" style="color: #666666;">}</span><span class="js-operator" style="color: #666666;">&lt;</span><span class="js-variable" style="color: black;">script </span><span class="js-variable" style="color: black;">type</span><span class="js-operator" style="color: #666666;">=</span><span class="js-string" style="color: #aa2222;">&#8220;text/javascript&#8221;</span><span class="js-operator" style="color: #666666;">&gt;</span>

<span class="whitespace">  </span><span class="js-keyword" style="color: #770088;">var </span><span class="js-variable" style="color: black;">_gaq </span><span class="js-operator" style="color: #666666;">= </span><span class="js-variable" style="color: black;">_gaq </span><span class="js-operator" style="color: #666666;">|| </span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">  </span><span class="js-variable" style="color: black;">_gaq</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">push</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-string" style="color: #aa2222;">&#8217;_setAccount&#8217;</span><span class="js-punctuation" style="color: #666666;">, </span><span class="js-string" style="color: #aa2222;">&#8216;UA-XXXXXXXX-1&#8217;</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">  </span><span class="js-variable" style="color: black;">_gaq</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">push</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-string" style="color: #aa2222;">&#8217;_trackPageview&#8217;</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">  </span><span class="js-variable" style="color: black;">_gaq</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">push</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-string" style="color: #aa2222;">&#8217;_setVar&#8217;</span><span class="js-punctuation" style="color: #666666;">, </span><span class="js-string" style="color: #aa2222;">&#8216;ga_exclude&#8217;</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">; </span>
<span class="whitespace">  </span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-keyword" style="color: #770088;">function</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">) </span><span class="js-punctuation" style="color: #666666;">{</span>
<span class="whitespace">    </span><span class="js-keyword" style="color: #770088;">var </span><span class="js-variabledef" style="color: #0000ff;">ga </span><span class="js-operator" style="color: #666666;">= </span><span class="js-variable" style="color: black;">document</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">createElement</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-string" style="color: #aa2222;">&#8216;script&#8217;</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">; </span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">type </span><span class="js-operator" style="color: #666666;">=</span><span class="js-string" style="color: #aa2222;">&#8216;text/javascript&#8217;</span><span class="js-punctuation" style="color: #666666;">; </span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">async </span><span class="js-operator" style="color: #666666;">= </span><span class="js-atom" style="color: #228811;">true</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">    </span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">src </span><span class="js-operator" style="color: #666666;">= </span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-string" style="color: #aa2222;">&#8216;https:&#8217; </span><span class="js-operator" style="color: #666666;">== </span><span class="js-variable" style="color: black;">document</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">location</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">protocol </span><span class="js-operator" style="color: #666666;">?</span><span class="js-string" style="color: #aa2222;">&#8216;https://ssl&#8217; </span><span class="js-punctuation" style="color: #666666;">: </span><span class="js-string" style="color: #aa2222;">&#8216;http://www&#8217;</span><span class="js-punctuation" style="color: #666666;">) </span><span class="js-operator" style="color: #666666;">+ </span><span class="js-string" style="color: #aa2222;">&#8216;.google-analytics.com/ga.js&#8217;</span><span class="js-punctuation" style="color: #666666;">;</span>
<span class="whitespace">    </span><span class="js-keyword" style="color: #770088;">var </span><span class="js-variabledef" style="color: #0000ff;">s </span><span class="js-operator" style="color: #666666;">= </span><span class="js-variable" style="color: black;">document</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">getElementsByTagName</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-string" style="color: #aa2222;">&#8216;script&#8217;</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">[</span><span class="js-atom" style="color: #228811;">0</span><span class="js-punctuation" style="color: #666666;">]</span><span class="js-punctuation" style="color: #666666;">;</span><span class="js-localvariable" style="color: #004499;">s</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">parentNode</span><span class="js-punctuation" style="color: #666666;">.</span><span class="js-property" style="color: black;">insertBefore</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-localvariable" style="color: #004499;">ga</span><span class="js-punctuation" style="color: #666666;">, </span><span class="js-localvariable" style="color: #004499;">s</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span>

<span class="whitespace">  </span><span class="js-punctuation" style="color: #666666;">}</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">(</span><span class="js-punctuation" style="color: #666666;">)</span><span class="js-punctuation" style="color: #666666;">;</span>

<span class="js-operator" style="color: #666666;">&lt;</span><span class="js-string" style="color: #aa2222;">/script&gt;{/</span><span class="js-variable" style="color: black;">literal</span><span class="js-punctuation" style="color: #666666;">}</span><span class="js-punctuation" style="color: #666666;">{</span><span class="js-string" style="color: #aa2222;">/if}</span>

&nbsp;

___END_CODE__

Thanks for the clear documentation <a title="doc.tiki.org" href="http://doc.tiki.org" target="_blank">doc.tiki.org</a> and give the CMS a try. It&#8217;s a nicely integrated CMS w/ wiki, blog, forums, etc.

Source: <a href="http://doc.tiki.org/PluginGoogleAnalytics">PluginGoogleAnalytics | Documentation for Tiki Wiki CMS Groupware</a>.
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
			</div>
			<footer id="footer" class="inner"><p class="pull-left">
  <a href="/">Civet</a>
  - Copyright &copy; 2013 - Zander
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->













  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



		</div>
	</div>
</body>
</html>
