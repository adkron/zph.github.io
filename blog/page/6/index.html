
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Civet</title>
	<meta name="author" content="Zander">

	
	<meta name="description" content="May 27th, 2012 Todo.txt Count in RPrompt ZSH I&#8217;ve been using Todo.txt for at least a year, both from the commandline and the Android app.
It&# &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Civet" type="application/atom+xml">
	
	<link rel="canonical" href="http://zph.github.io/blog/page/6/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("zander@civet.ws") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
</div>
<hgroup>
  <h1><a href="/">Civet</a></h1>
  
    <h2>The Spice of Life</h2>
  
</hgroup>

<p class="subtitle">The Spice of Life</p>
<nav id="main-nav">
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/_ZPH" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/ZPH" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-27T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 27<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/27/todo-txt-count-in-rprompt-zsh/" itemprop="url">Todo.txt Count in RPrompt ZSH</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I&#8217;ve been using Todo.txt for at least a year, both from the commandline and the Android app.</p>
<p>It&#8217;s great keeping a todo list in text files, synchronized across multiple devices via Dropbox, but there&#8217;s one nagging thing in my system.<br />
That nagging issue is that Todo.txt doesn&#8217;t nag me enough about the issues in my todo list!  So, I&#8217;m taking steps to resolve this by adding a function to my zshrc configuration.</p>
<p>I mapped out the basic command in the shell by combining todo&#8217;s ls, grep (to keep only lines starting with numbers), and then a wordcount by line.</p>
<p>The following function was taken from <a href="http://wynnnetherland.com/journal/contextual-todo-list-counts-in-your-zsh-prompt">Wynnnetherland.com</a> and modified since I installed todo.txt through Homebrew, and since I prefer a different command to count the items.</p>
<p>[cc_bash]
todo_count(){
  if $(which todo.sh &amp;&gt; /dev/null)
  then
    num=$(echo $(todo.sh ls | grep &#8220;^[0-9]&#8221; | wc -l))
    let todos=num
    if [ $todos != 0 ]
    then
      echo &#8220;$todos&#8221;
    else
      echo &#8220;&#8221;
    fi
  else
    echo &#8220;&#8221;
  fi
}
function zle-line-init zle-keymap-select {
RPS1=&#8221;${${KEYMAP/vicmd/&gt;&gt;&gt; ○[$(todo_count)]}/(main|viins)/± &lt;&lt;&lt;[$(todo_count)]}&#8221;
    RPS2=$RPS1
    zle reset-prompt
}[/cc_bash]</p>
<p>The following is a diff of the difference showing the updated function [gist id=2817309]</p>
<p>Now my right hand prompt shows a nice count of incomplete todo items inside square brackets&#8230;like so: [gist id=2817339] </p>
<p>Update: My own syntax highlighting is escaping some of the characters, so here&#8217;s a gist of it [gist id=2817304]</p><!-- #VIMREPRESS_TAG# http://www.civet.ws/wp-content/uploads/2012/05/wpid225-vimrepress_4fc3086a_mkd.odt wpid225-vimrepress_4fc3086a_mkd.odt -->

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-24T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 24<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/24/vim-movement-command-of-the-day/" itemprop="url">VIM Movement Command of the Day</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>The movment letter of today for VIM is [cci_bash]G[/cci_bash]
Using &#8216;G&#8217; moves to the end of the file (or more specifically to the final line of the file).</p>
<p>The complimentary command is &#8216;gg&#8217;, to jump to top of file!</p>
<p>VIM: The more I learn, the better it gets.</p><!-- #VIMREPRESS_TAG# http://198.211.104.146/wp-content/uploads/2012/05/vimrepress_4fbebdf4_mkd.odt vimrepress_4fbebdf4_mkd.odt -->

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-22T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 22<span>nd</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/22/why-i-love-open-source-software/" itemprop="url">Why I Love Open-Source Software</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Open-source software is wonderful.  For example, I needed to batch convert 700 AutoCad files (DWG) into regular image files.</p>
<p>Step one: Find library to do this for me. Succeeded by finding cad2svg.  Can&#8217;t run as its compiled in OSX, can&#8217;t recompile b/c it has unavailable proprietary blob.  Read author&#8217;s blog &amp; README.  He states that it was developed in Red Hat Linux/ Fedora.  Blog is dated ~ 2009.</p>
<p>Off I go to grab Fedora 12.  Install in virtual machine, set up shared folder between host and vboxclient.  Use script like [cc_bash]find . -name *.dwg -print0 | xargs -0 cad2svg - OUTPUT.svg[/cc_bash]</p>
<p>Then jump back into OSX to use a library from Cairo 2d image library, svg2png.  This will convert them into png images.</p>
<p>Do some googling for correct imagemagick settings to invert the image, convert all non-white to black, and then convert to monochrome.</p>
<p>Spent a few minutes tweaking the settings, order of events, properly piping the output image from svg2png into imagemagick&#8230; and voila! Computer is currently chugging through all 700 conversions.
Command to convert from svg to png (with tweaks)
[cc_bash]svg2png -w8000 &#8216;#{item}&#8217; | convert png:- -negate -fill black +opaque white &#8216;svgs/#{output}.png&#8217;[/cc_bash]
(Note: Piping these two commands saves writing temp file to hard drive)
ImageMagic, svg2png, cad2svg (except proprietary blob) are great tools made even greater by their Unix philosophy (doing one thing well and using standard-in and stdout to chain together commands)</p><!-- #VIMREPRESS_TAG# http://198.211.104.146/wp-content/uploads/2012/05/wpid210-vimrepress_4fbc6929_mkd.odt wpid210-vimrepress_4fbc6929_mkd.odt -->

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-21T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 21<span>st</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/21/using-zshs-history-incremental-search-with-vi-mode/" itemprop="url">Using ZSH&#8217;s History Incremental Search With Vi-Mode</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I switched to ZSH a few months back and am spending more and more time in commandline + VIM/MacVIM.</p>
<p>Once I added the tag to my dotfile to force vi-mode on the commandline I lost the ability to do incremental searches of my zsh history.  So here&#8217;s the fix which saves lots of typing:</p>
<p>First, the regular keybind to allow Ctrl-R to enter history search backward mode:
[cc_bash]bindkey &#8220;^R&#8221; history-incremental-search-backward[/cc_bash]</p>
<p>To fix the fact that the prior keymap no longer works in vi-mode zsh, add this to a zsh config:
[cc_bash]
bindkey -M viins &#8216;^R&#8217; history-incremental-search-backward
bindkey -M vicmd &#8216;^R&#8217; history-incremental-search-backward[/cc_bash]</p>
<p>Now I can ^R with aplomb&#8230;</p>
<p>This is thanks to the explanation from JDeBP over on <a href="http://superuser.com/questions/328026/can-i-use-vim-editing-mode-on-the-command-line-without-losing-recursive-history">superuser.com</a>.</p><!-- #VIMREPRESS_TAG# http://198.211.104.146/wp-content/uploads/2012/05/vimrepress_4fbb0104_mkd.odt vimrepress_4fbb0104_mkd.odt -->

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-21T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 21<span>st</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/21/5-days-of-osx/" itemprop="url">5 Days of OSX</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Well, it&#8217;s been 5 days since getting an OSX laptop (MBA) and it&#8217;s treating me pretty well.</p>
<p>Here are some initial impressions:
Some of the coolest things:
1. Spotlight
2. Quicksilver (launcher app)
3. Quickcursor (vim geek app lets edit with vim everywhere&#8230; like this an email or blog post) Thanks to <a href="http://connermcd.wordpress.com">Conner&#8217;s Blog</a>
4. Touchpad is magnificent&#8230; crazy amount of multitouch gestures
5. System based on BSD Mach kernel&#8230; allowing all sorts of Unix-compliant
goodness
  Along with that goes MacVim, iTerm2, growl, and all my unix commandline favs
6. Homebrew and MacPorts&#8230; both very good but not as well integrated as
Debian&#8217;s apt-get and Arch&#8217;s pacman.  Oh well, still waiting for slick Linux
laptop with the hardware support of OSX&#8230;(not holding my breath)</p>
<p>What&#8217;s not so cool:
1. Learning new keyboard shortcuts
2. Fn key is a complete waste of space, need to remap it to be Ctrl (Did this with <a href="http://pqrs.org/macosx/keyremap4macbook/">KeyReMap4Macbook</a>: Note that the config can be tricky depending on other keyboard tweaks, but it&#8217;s now working)
3. Logitech mouse is a bit tweakier than under Linux &amp; windows. (Update: MagicMouse looks pretty cool, esp with multitouchtool)
4. Terminal based VIM is SegFaulting with one of my addons (it allows me to
    blog from commandline for www.civet.ws, my tech blog. Thankfully it works
    ok in MacVIM). Haven&#8217;t solved this yet but with it working for 99% of my tasks&#8230; the troubleshooting can wait for a rainy day. Maybe updating Mac&#8217;s pre-installed python&#8230;and recompiling VIM.</p><!-- #VIMREPRESS_TAG# http://198.211.104.146/wp-content/uploads/2012/05/wpid203-vimrepress_4fbac464_mkd.odt wpid203-vimrepress_4fbac464_mkd.odt -->

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-20T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 20<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/20/vim-video-by-bram/" itemprop="url">VIM Video by Bram</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Watched this video today by the author of VIM: Bram Moolenaar
<a href="http://video.google.com/videoplay?docid=2538831956647446078">VIM Video by Bram Moolenaar</a></p>
<p>It&#8217;s about 1.3 hours long and worth the watch.</p>
<p>A useful tip so far is the [cc_bash]*[/cc_bash]</p>
<p>Which uses your current word as a search term and incremental searches forward.</p><!-- #VIMREPRESS_TAG# http://198.211.104.146/wp-content/uploads/2012/05/vimrepress_4fb92a64_mkd.odt vimrepress_4fb92a64_mkd.odt -->

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-20T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 20<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/20/useful-vim-cheetsheet/" itemprop="url">Useful VIM Cheetsheet</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>New VIM command of the day: [cc_bash]d/(searchterm)[/cc_bash]
This will delete up until the search term.</p>
<p>Source of this wisdom: <a href="http://www.brezeale.com/technical_notes/vim_notes.shtml">VIM Commands</a></p><!-- #VIMREPRESS_TAG# http://198.211.104.146/wp-content/uploads/2012/05/wpid187-vimrepress_4fb91c24_mkd.odt wpid187-vimrepress_4fb91c24_mkd.odt -->

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-12T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 12<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/12/my-current-favorite-vimrc-one-liner/" itemprop="url">My Current Favorite VIMRC One-liner</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Very handy for quickly swapping between prior file and current file in VIM:</p>
<p>Add the following to VIMRC:
[cc_vim]nnoremap <Leader>, :b#<CR>[/cc_vim]</p>
<p>My current leader key is set to comma (,) so punching ,, switches between prior and current file, or back again.</p>
<p>Runner up for other good one liners:
[cc_vim]inoremap jk <ESC>[/cc_vim] 
This one allows you to stay on the commandline and ESCAPE out of insert mode by using key combo &#8216;jk&#8217;!Note: I find this faster than a more common binding of &#8216;jj&#8217; for this purpose.  With jj the same finger needs to activate the key in quick succession.  With j &amp; k the right hand index and middle finger both activate at a similar time. Thus my preference goes to the slightly easier and faster option.</p>
<p>Source &amp; Credit: Gary Bernhardt&#8217;s Dotfiles on Github (though escape sequence of jj swapped to j k)</p>
<p>PS - The only conflict I&#8217;ve had with j k being an ESC sequence is this blog post.  In code and prose I haven&#8217;t run into problems.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-12T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 12<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/12/keeping-track-of-config-files-with-git-and-dropbox/" itemprop="url">Keeping Track of Config Files With Git and Dropbox</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Dotfiles are all the rage right now on Github, and for a good reason.  They&#8217;re the files that allow you to configure your Vim, Linux, Mac, etc.  They&#8217;re simple textfiles written in a specific format for each given application.  Being a textfile they&#8217;re easily added to a version control system like Git or Mercurial and changes can be tracked, commited, diffed, etc.</p>
<p>How does it work? Make a folder in your Dropbox folder and place config files there.
[cc_bash]mkdir ~/Dropbox/dotfiles
mv ~/.vimrc ~/Dropbox/dotfiles/.
ln -s ~/Dropbox/dotfiles/* ~/. [/cc_bash]</p>
<p>The first command creates the folder. The second command moves the .vimrc configuration file into that folder.  The last command symbolically links all files/folders inside the dotfiles folder into the base of the home folder, ie /home/tevic/.</p>
<p>Add all those files into a git repository via a &#8216;git init; git add .; git commit -m &#8220;Initial Commit with Vimrc&#8221;&#8217;.  Now you can also use git for tracking changes on various branches.</p>
<p>I&#8217;ve been very happy with storing my vimrc, zshrc, ~/.config/zsh.d, ~/.vim/ configurations in Dropbox.  Switching to a new computer or reconfiguring is no effort whatsoever.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-07T00:00:00-04:00" data-updated="true" itemprop="datePublished">May 7<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/07/slick-zsh-trick-for-vi-mode/" itemprop="url">Slick ZSH Trick for Vi-Mode</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Found a neat trick today for making the commandline vi-mode much more friendly.</p>
<p>Back-story: As I&#8217;ve been spending more time programming, I find myself more comfortable on the commandline and in VIM.  Also, there&#8217;s a setting that can be placed in .bashrc and/or .zshrc to allow vi style editing of the commandline.  This is all well and good but without any visual indicator of whether I&#8217;m in INSERT MODE or NORMAL MODE&#8230; well, it&#8217;s disorenting.</p>
<p>So the neat trick is to add code in your .zshrc to insert a right-hand side prompt (RPROMPT) that will show a notifier depending on what mode you&#8217;re in.</p>
<p>Add the following code (and thank you to wherever I found this trick online)
[cc_vim]
function zle-line-init zle-keymap-select {
    RPS1=&#8221;${${KEYMAP/vicmd/&#8211;NOR&#8211;}/(main|viins)/&#8211;INS&#8211;}&#8221;
    RPS2=$RPS1
    zle reset-prompt
}
zle -N zle-line-init
zle -N zle-keymap-select[/cc_vim]</p>
<p>Have another nice trick for your .zshrc, please share it in the comments!</p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
        <a href="/blog/page/5/" class="prev">Prev</a>
    
    
        <a href="/blog/page/7/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner"><p class="pull-left">
  <a href="/">Civet</a>
  - Copyright &copy; 2013 - Zander
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->













  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



		</div>
	</div>
</body>
</html>
