---
layout: post
title: Trello-Archiver from Scratch
tags:
- ANYNAME
- Ruby
- RVM
- Technology
- Trello Archiver
- XLSX
status: publish
type: post
published: true
meta:
  mkd_text: ! "Trello-Archiver is a set of Ruby scripts that allows one to export
    their Trello board into a CSV, TSV, or XLSX file.  It was started by another person
    on Github.com named Mad_Typist.  Early on in the process I sent them a pull request
    to contribute my changes back... but they don't seem to be around.  Given that,
    I've forked the project and continued to develop it for my own benefit.\n\nTrello-Archiver
    relies on a few conventions that exist in the Ruby world.\n1. Project dependencies
    are managed with `Bundler`\n2. A semi-recent version of Ruby is used ` >= 1.9.2`\n\nTo
    use the project on a system that isn't setup for Ruby development, the first step
    is to install a recent version of Ruby.  I prefer to use a tool called Ruby Version
    Manager for this [RVM](www.rvm.io).\n\nThe next step is to clone the [ Trello-Archiver
    ](https://github.com/zph/trello-archiver.git) repo from Github.\n\nThen `cd trello-archiver`
    and run `bundle install`. Bundler installs the necessary dependencies for **Trello-Archiver**.
    \ The nice feature about Bundler is that it manages individual projects' dependencies
    independently :).\n\nNext, `cp config.example.yml config.yml`.  Config.example.yml
    is the template for where the authentication credentials are stored along with
    any default settings.\n\nOpen up `config.yml` with your favorite text editor.
    Instructions are inclosed in there for how to gather your secret credentials from
    Trello.com.\n\nFirst, open `https://trello.com/1/appKey/generate` in your web
    browser.  Copy the first key as your 'public key' and the second (longer) key
    as your 'private_key'.\n\nNext we need to enter those values into a special url:\n`\n
    \ https://trello.com/1/connect?key=PUBLIC_KEY_FROM_ABOVE&name=ANYNAME&response_type=token&scope=read,account&expiration=never\n`\nThe
    two values that need replacing in this URL are PUBLIC_KEY_FROM_ABOVE nd ANYNAME.
    \ ANYNAME is a placeholder for any text that you want to use to identify this
    key, ie it could be TrelloArchiver.  Also note that this is authorizing Read-Only
    access.  This way, even if there's a bug in the software the token won't allow
    changes to your Trello information.\n\nPast that value into your web browser and
    click allow on the confirmation webpage.\n\nThe following page that loads has
    your 'access_token_key'.  Copy this value into your `config.yml`. Save `config.yml`
    and exit to commandline.\n\n*That's it for authentication setup*!  Make sure to
    be careful with this config.yml and don't go adding it to any public git repos
    ;).\n\nNow for backing things up :).  Decide if you want a specific board backed
    up or all of them.\n\nLet's backup a single board:\n-`ruby bin/trello_backup.rb`\n-Choose
    your board by number and hit enter\n-Enter a filename or not (it defaults to name
    of board and date stamp)\n-Defaults to exporting as XLSX (this is easily changed
    in script).\n\nNow let's backup all the boards:\n-`ruby bin/trello-autoarchive.rb`\n-Sit
    back and wait for it to finish!\n-It's set to backup all boards with default names
    and using XLSX filetype.\n\nCaveats:\nIt saves these files into the current folder.\nApparently
    I broke CSV functionality with some recent changes.  I'll get it working again.\nThe
    spreadsheet structure is what works for me.  If you need a different configuration,
    please let me know and I'll look into it.\nNot all info is backed up.  For full
    backup, download your JSON export from Trello.  The main thing that I didn't include
    in Trello-Archiver is a set of timestamps for when a Card is moved to each List.
    \ This could be a future feature if others have a need for it.\n\nBelow is a Gist
    showing the shell commands\n<script src=\"https://gist.github.com/4411301.js\"></script>"
  _edit_last: '1'
  bfa_virtual_template: hierarchy
  dsq_thread_id: '1055638162'
  _yoast_wpseo_linkdex: '0'
---
<p>Trello-Archiver is a set of Ruby scripts that allows one to export their Trello board into a CSV, TSV, or XLSX file. It was started by another person on Github.com named Mad_Typist. Early on in the process I sent them a pull request to contribute my changes back... but they don't seem to be around. Given that, I've forked the project and continued to develop it for my own benefit.</p>

<p>Trello-Archiver relies on a few conventions that exist in the Ruby world. 1. Project dependencies are managed with <code>Bundler</code> 2. A semi-recent version of Ruby is used <code>&gt;= 1.9.2</code></p>

<p>To use the project on a system that isn't setup for Ruby development, the first step is to install a recent version of Ruby. I prefer to use a tool called Ruby Version Manager for this <a href="www.rvm.io">RVM</a>.</p>

<p>Install a sane Ruby Version Manager along with Recent Ruby
<code>curl -L https://get.rvm.io | bash -s stable --ruby</code></p>

<p>Source the installed script to allow for using RVM this first time w/ this command: 
<code>source ~/.rvm/scripts/rvm</code></p>

<p>Future logins will automatically source RVM using your bashrc or zshrc.</p>

<p>The next step is to clone the <a href="https://github.com/zph/trello-archiver.git"> Trello-Archiver </a> repo from Github.</p>

<p>Then <code>cd trello-archiver</code> and run <code>bundle install</code>. Bundler installs the necessary dependencies for <strong>Trello-Archiver</strong>. The nice feature about Bundler is that it manages individual projects' dependencies independently :).</p>

<p>Next, <code>cp config.example.yml config.yml</code>. Config.example.yml is the template for where the authentication credentials are stored along with any default settings.</p>

<p>Open up <code>config.yml</code> with your favorite text editor. Instructions are inclosed in there for how to gather your secret credentials from Trello.com.</p>

<p>First, open <code>https://trello.com/1/appKey/generate</code> in your web browser. Copy the first key as your 'public key' and the second (longer) key as your 'private_key'.</p>

<p>Next we need to enter those values into a special url: <code>https://trello.com/1/connect?key=PUBLIC_KEY_FROM_ABOVE&amp;name=ANYNAME&amp;response_type=token&amp;scope=read,account&amp;expiration=never</code> The two values that need replacing in this URL are PUBLIC<em>KEY</em>FROM_ABOVE nd ANYNAME. ANYNAME is a placeholder for any text that you want to use to identify this key, ie it could be TrelloArchiver. Also note that this is authorizing Read-Only access. This way, even if there's a bug in the software the token won't allow changes to your Trello information.</p>

<p>Past that value into your web browser and click allow on the confirmation webpage.</p>

<p>The following page that loads has your 'access<em>token</em>key'. Copy this value into your <code>config.yml</code>. Save <code>config.yml</code> and exit to commandline.</p>

<p><em>That's it for authentication setup</em>! Make sure to be careful with this config.yml and don't go adding it to any public git repos ;).</p>

<p>Now for backing things up :). Decide if you want a specific board backed up or all of them.</p>

<p>Let's backup a single board: -<code>ruby bin/trello_backup.rb</code> -Choose your board by number and hit enter -Enter a filename or not (it defaults to name of board and date stamp) -Defaults to exporting as XLSX (this is easily changed in script).</p>

<p>Now let's backup all the boards: -<code>ruby bin/trello-autoarchive.rb</code> -Sit back and wait for it to finish! -It's set to backup all boards with default names and using XLSX filetype.</p>

<p>Caveats: It saves these files into the current folder. Apparently I broke CSV functionality with some recent changes. I'll get it working again. The spreadsheet structure is what works for me. If you need a different configuration, please let me know and I'll look into it. Not all info is backed up. For full backup, download your JSON export from Trello. The main thing that I didn't include in Trello-Archiver is a set of timestamps for when a Card is moved to each List. This could be a future feature if others have a need for it.</p>

<p>Below is a Gist showing the shell commands</p>

<script src="https://gist.github.com/4411301.js"></script>
